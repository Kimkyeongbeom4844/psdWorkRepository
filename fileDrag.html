<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <section id="ex9">
      <style>
        #ex9 .upload-box {
          width: 500px;
          height: 300px;
          border: 1px solid gray;
          box-shadow: 2px 3px 9px hsl(0, 0%, 47%);
          padding: 10px;
        }
      </style>
      <h1>파일업로드 : DND & Trigger</h1>
      <div class="upload-box">
        <!-- <button class="btn-upload">파일선택</button> -->
        <input class="btn-file d-none" type="file" />
        <!--파일 input box 형태-->
      </div>
    </section>
    <hr />
    <script>
      var sec9 = document.querySelector("#ex9");
      var btnUpload = sec9.querySelector(".btn-upload");
      var inputFile = sec9.querySelector('input[type="file"]');
      var uploadBox = sec9.querySelector(".upload-box");

      /* 박스 안에 Drag 들어왔을 때 */
      uploadBox.addEventListener("dragenter", function (e) {
        console.log("dragenter");
      });

      /* 박스 안에 Drag를 하고 있을 때 */
      uploadBox.addEventListener("dragover", function (e) {
        e.stopPropagation();
        e.preventDefault();
        console.log("dragover");

        this.style.backgroundColor = "green";
      });

      /* 박스 밖으로 Drag가 나갈 때 */
      uploadBox.addEventListener("dragleave", function (e) {
        console.log("dragleave");

        this.style.backgroundColor = "white";
      });

      /* 박스 안에서 Drag를 Drop했을 때 */
      uploadBox.addEventListener("drop", function (e) {
        e.preventDefault();

        console.log(e.dataTransfer.files[0]);
        // console.log(inputFile.set);
        this.style.backgroundColor = "white";
        // inputFile.value = e.dataTransfer.files[0];
      });

      inputFile.addEventListener("change", () => {
        alert("바뀜 성공");
      });
    </script>
  </body>
</html>
